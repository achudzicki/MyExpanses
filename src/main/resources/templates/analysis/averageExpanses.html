<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      th:replace="~{mainTemplates/mainTemplate :: layout(~{::title}, ~{::.content}, ~{::script}, ~{::style})}">
<head>
    <title></title>
    <style>
        .label-radius{
            border-radius: 5px;
        }

        .uk-label, .uk-label-danger , .uk-label-success {
            padding: 2px 5px;
            width: 250px !important;
        }
    </style>
    <script></script>
</head>
<body>
<div class="content">

    <div class="uk-width-expand">
        <h4 style="color: #1e87f0" class="uk-margin-remove-bottom">Średnia wartość transakcji/cykl</h4>
        <i class="uk-text-meta uk-margin-remove-top">Średnia wartość transakcji obliczana poprzez podzielenie sumy wszystkich transakcji przez ilość wszystkich cyklów</i>
    </div>
    <table class="uk-table uk-table-striped uk-text-center">
        <thead>
        <tr>
            <th class="uk-text-center">Lp.</th>
            <th class="uk-text-center">Grupa transakcji</th>
            <th class="uk-text-center">Ilość transakcji</th>
            <th class="uk-text-center">Ilość cykli</th>
            <th class="uk-text-center">Średnia wartość/Cykl</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="avg,index : ${averageExpanses}">
            <td th:text="${index.index + 1}"></td>
            <td th:text="${avg.transactionGroup.gorupName}"></td>
            <td th:text="${avg.allTransactionCtn()}"></td>
            <td th:text="${avg.cyclesCount}"></td>
            <td th:inline="text"
                th:classappend="${avg.getTotalAverageCycle() >= 0} ? uk-text-success : uk-text-danger">
                [[${#numbers.formatDecimal(avg.getTotalAverageCycle(), 0, 'COMMA', 2, 'POINT')}]] zł
            </td>
        </tr>
        </tbody>
    </table>


    <div class="uk-width-expand">
        <h4 style="color: #1e87f0" class="uk-margin-remove-bottom">Średnia wartość transakcji</h4>
        <i class="uk-text-meta uk-margin-remove-top">Średnia wartość transakcji według grup zakupowych</i>
    </div>
    <table class="uk-table uk-table-striped uk-text-center">
        <thead>
        <tr>
            <th class="uk-text-center">Lp.</th>
            <th class="uk-text-center">Grupa transakcji</th>
            <th class="uk-text-center">Ilość przychodów</th>
            <th class="uk-text-center">Średnia wartość przychodów</th>
            <th class="uk-text-center">Ilość wydatków</th>
            <th class="uk-text-center">Średnia wartość wydatków</th>
            <th class="uk-text-center">Ilość transakcji</th>
            <th class="uk-text-center">Średnia wartość</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="avg,index : ${averageExpanses}">
            <td th:text="${index.index + 1}"></td>
            <td th:text="${avg.transactionGroup.gorupName}"></td>
            <td th:text="${avg.incomeTransactions.size()}"></td>
            <td th:if="${avg.incomeTransactions.size() > 0}" class="uk-text-success" th:inline="text">
                [[${#numbers.formatDecimal(avg.getIncomeAverage(), 0, 'COMMA', 2, 'POINT')}]] zł
            </td>
            <td th:if="${avg.incomeTransactions.size() <=0}" class="uk-text-uppercase uk-text-muted">BRAK DOCHODÓW</td>
            <td th:text="${avg.expanseTransactions.size()}"></td>
            <td th:if="${avg.expanseTransactions.size() > 0}" class="uk-text-danger" th:inline="text">
                [[${#numbers.formatDecimal(avg.getExpanseAverage(), 0, 'COMMA', 2, 'POINT')}]] zł
            </td>
            <td th:if="${avg.expanseTransactions.size() <=0}" class="uk-text-uppercase uk-text-muted">BRAK WYDATKÓW</td>
            <td th:text="${avg.allTransactionCtn()}"></td>
            <td th:inline="text"
                th:classappend="${avg.getTotalAverageTransaction() >= 0} ? uk-text-success : uk-text-danger">
                [[${#numbers.formatDecimal(avg.getTotalAverageTransaction(), 0, 'COMMA', 2, 'POINT')}]] zł
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>